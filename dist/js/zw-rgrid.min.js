function processTable(e){var t=e.id;const r=e.querySelectorAll("table#"+t+" > thead > tr > th");e=e.querySelectorAll("table#"+t+" > tbody tr");let a=hasPrimaryKey(r);e.forEach(e=>{var t=e.querySelectorAll("td:not(.zw-rgrid-header-mobile)");a&&insertMobileHeaderCell(extractPrimaryKeyValues(r,t),e),setAttributesAndClasses({t:t,i:r})})}function hasPrimaryKey(e){return Array.from(e).some(e=>e.dataset.pk)}function extractPrimaryKeyValues(e,a){return Array.from(e).reduce((e,t,r)=>(t.dataset.pk&&0<a.length&&e.push(a[r].innerText),e),[])}function insertMobileHeaderCell(e,t){e=createHeaderMobile(e);t.insertBefore(e,t.querySelector("td:not(.zw-rgrid-header-mobile)"))}function createHeaderMobile(e){var t=document.createElement("td");return t.classList.add("zw-rgrid-header-mobile"),t.innerText=e.join(", "),t}function setAttributesAndClasses({t:e,i:r}){Array.from(e).forEach((e,t)=>{e.setAttribute("data-th",r[t].innerText),r[t].dataset.hide&&e.classList.add("zw-rgrid-detail")})}function toggleExpanded(e){e.closest("tr").classList.toggle("expanded")}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("table.zw-rgrid").forEach(function(e){processTable(e)}),document.querySelectorAll(".zw-rgrid-header-mobile").forEach(function(e){e.addEventListener("click",function(){toggleExpanded(this)})})},!1);